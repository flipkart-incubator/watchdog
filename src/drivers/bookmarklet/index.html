<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">

		<title>Wappalyzer</title>

		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

		<style type="text/css">
			body {
				color: #000;
				font-family: Verdana, Arial, sans-serif;
				font-size: 14px;
			}

			#bookmarklet {
				border: 1px solid #333;
				color: #000;
				display: inline-block;
				padding: 10px 25px;
				text-decoration: none;
			}
		</style>
	</head>
	<body>
		<p>
			Drag this button to your bookmarks toolbar:
		</p>

		<p>
			<a id="bookmarklet" href="javascript: void(0);">Wappalyzer</a>
		</p>

		<div id="bookmarklet-code" style="display: none">
			(function() {
				var
					d = document,
					e = d.getElementById('wappalyzer-container');

				if ( e !== null ) {
					d.body.removeChild(e);
				}

				var
					u = 'https://wappalyzer.com/bookmarklet/',
					t = new Date().getTime(),
					c = d.createElement('div'),
					p = d.createElement('div'),
					l = d.createElement('link'),
					s = d.createElement('script');

				c.setAttribute('id', 'wappalyzer-container');

				l.setAttribute('rel', 'stylesheet');
				l.setAttribute('href', u + 'css/wappalyzer.css');

				d.head.appendChild(l);

				p.setAttribute('id', 'wappalyzer-pending');
				p.setAttribute('style', 'background-image: url(' + u + 'images/pending.gif) !important');

				c.appendChild(p);

				s.setAttribute('src', u + 'js/wappalyzer.js?' + t);

				s.onload = function() {
					s = d.createElement('script');

					s.setAttribute('src', u + 'js/apps.js?' + t);

					s.onload = function() {
						s = d.createElement('script');

						s.setAttribute('src', u + 'js/driver.js?' + t);

						c.appendChild(s);
					};

					c.appendChild(s);
				};

				c.appendChild(s);

				d.body.appendChild(c);
			})();
		</div>

		<script>
			$('#bookmarklet').attr('href', 'javascript:' + $('#bookmarklet-code').html().replace(/\s+/g, ' '));
		</script>
	</body>
</html>
